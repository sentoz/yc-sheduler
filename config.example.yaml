# yaml-language-server: $schema=./static/schemas/config.json
#
# YC Scheduler Configuration Example
#
# This file demonstrates the configuration structure for yc-scheduler.
# The JSON Schema is available at: ./static/schemas/config.json
#
# To validate this configuration against the schema, you can use:
# - VS Code with YAML extension (automatic validation)
# - yamllint with schema validation
# - Online JSON Schema validators
#
# For more information, see: https://json-schema.org/

schedules:
  # Example: Daily schedule to start a VM at 9:00 AM
  - name: vm-production-start
    type: daily
    resource:
      type: vm
      id: fhm1234567890abcdef
      folder_id: b1g1234567890abcdef
    actions:
      start:
        enabled: true
        time: 09:00
      stop:
        enabled: false
    daily_job:
      time: 09:00
      timezone: Europe/Moscow

  # Example: Cron schedule to stop a VM every day at 18:00
  - name: vm-production-stop
    type: cron
    resource:
      type: vm
      id: fhm1234567890abcdef
      folder_id: b1g1234567890abcdef
    actions:
      stop:
        enabled: true
    cron_job:
      crontab: 0 18 * * *
      timezone: Europe/Moscow

  # Example: Weekly schedule to restart a VM every Monday at 08:00
  - name: vm-weekly-restart
    type: weekly
    resource:
      type: vm
      id: fhm0987654321fedcba
      folder_id: b1g1234567890abcdef
    actions:
      restart:
        enabled: true
        time: 08:00
    weekly_job:
      day: 1  # Monday (0=Sunday, 1=Monday, ..., 6=Saturday)
      time: 08:00
      timezone: UTC

  # Example: Monthly schedule to start a VM on the 1st day of each month
  - name: vm-monthly-start
    type: monthly
    resource:
      type: vm
      id: fhmabcdef1234567890
      folder_id: b1g1234567890abcdef
    actions:
      start:
        enabled: true
        time: 00:00
    monthly_job:
      day: 1
      time: 00:00
      timezone: UTC

  # Example: Duration-based schedule (every 2 hours)
  - name: vm-periodic-check
    type: duration
    resource:
      type: vm
      id: fhm1111111111111111
      folder_id: b1g1234567890abcdef
    actions:
      restart:
        enabled: true
    duration_job:
      duration: 2h
      # Optional: start_time: 2024-01-01T00:00:00Z

  # Example: One-time schedule
  - name: vm-onetime-maintenance
    type: one-time
    resource:
      type: vm
      id: fhm2222222222222222
      folder_id: b1g1234567890abcdef
    actions:
      stop:
        enabled: true
    one_time_job:
      time: 2024-12-31T23:59:59Z
      timezone: UTC

  # Example: Kubernetes Node Group schedule
  - name: k8s-node-group-scale-down
    type: daily
    resource:
      type: k8s_node_group
      id: cat1234567890abcdef
      folder_id: b1g1234567890abcdef
    actions:
      stop:
        enabled: true
    daily_job:
      time: 20:00
      timezone: Europe/Moscow

  # Example: Kubernetes Cluster schedule
  - name: k8s-cluster-maintenance
    type: weekly
    resource:
      type: k8s_cluster
      id: catabcdef1234567890
      folder_id: b1g1234567890abcdef
    actions:
      restart:
        enabled: true
    weekly_job:
      day: 0  # Sunday
      time: 02:00
      timezone: UTC
